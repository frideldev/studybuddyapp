<ion-header [translucent]="true">
  <ion-toolbar color="dark">
    <ion-title>Groups</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">

  <ion-row class="title-row">
    <ion-col><h1>Study Groups</h1></ion-col>
    <ion-col size="auto">
      <ion-button color="primary" shape="round" (click)="toggleForm()">
        + Create Group
      </ion-button>
    </ion-col>
  </ion-row>

  <!-- FORMULARIO DE NUEVO GRUPO -->
  <ion-card *ngIf="showCreateForm">
    <ion-card-header>
      <ion-card-title>Create New Group</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-label position="floating">Title</ion-label>
        <ion-input [(ngModel)]="newGroup.title"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Course</ion-label>
        <ion-input [(ngModel)]="newGroup.course"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Members</ion-label>
        <ion-input type="number" [(ngModel)]="newGroup.members"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Image URL</ion-label>
        <ion-input [(ngModel)]="newGroup.image"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Active Status</ion-label>
        <ion-input [(ngModel)]="newGroup.activeStatus"></ion-input>
      </ion-item>

      <ion-button expand="full" color="success" (click)="addGroup()">Add Group</ion-button>
    </ion-card-content>
  </ion-card>

  <!-- LISTADO DE GRUPOS EXISTENTES -->
  <ng-container *ngFor="let group of groups">
    <ion-card>
      <img [src]="group.image" alt="Group image" />
      <ion-card-content>
        <div class="header-row">
          <div>
            <h2>{{ group.title }}</h2>
            <p>{{ group.course }}</p>
          </div>
          <ion-badge color="primary">ðŸ‘¥ {{ group.members }}</ion-badge>
        </div>

        <ion-row class="icon-row">
          <ion-icon name="chatbubble-outline"></ion-icon>
          <ion-icon name="calendar-outline"></ion-icon>
          <ion-icon name="document-text-outline"></ion-icon>
        </ion-row>

        <p class="status">{{ group.activeStatus }}</p>
      </ion-card-content>
    </ion-card>
  </ng-container>
</ion-content>
